<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Tawk.to Script -->
  <script type="text/javascript">
    (function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="fuK6YtRQSpvS_ydUpjRAg";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();

    ;
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Bill Manager</title>
  <style>
    :root {
      --primary-color: #7dd3fc;
      --background-color: rgba(10, 25, 47, 0.95);
      --card-bg: rgba(16, 42, 76, 0.6);
      --text-color: #e0f2fe;
      --button-bg: #1e3a8a;
      --button-hover: #2563eb;
      --success-color: #16a34a;
      --warning-color: #facc15;
      --danger-color: #f87171;
    }
    * {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      min-height: 100vh;
      background: linear-gradient(rgba(10, 25, 47, 0.85), rgba(10, 25, 47, 0.85)),
                  url('https://i.ibb.co/vCHpD9np/billbg.jpg') center/cover fixed;
      padding: 20px;
      color: var(--text-color);
      line-height: 1.6;
    }
    .home-link {
      position: fixed;
      top: 20px;
      left: 20px;
      color: var(--primary-color);
      text-decoration: none;
      padding: 8px 16px;
      border-radius: 4px;
      transition: all 0.3s ease;
      z-index: 1000;
    }
    .home-link:hover {
      color: var(--button-bg)3;
    }
    .container {
      max-width: 1200px;
      margin: 4rem auto;
      padding: 2rem;
      background: var(--background-color);
      border-radius: 12px;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 2rem;
    }
    h1 {
      grid-column: 1 / -1;
      text-align: center;
      color: var(--primary-color);
      margin-bottom: 1rem;
      font-size: 2.5rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }
    /* Dashboard Styles */
    .dashboard {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .summary-card {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 8px;
      transition: transform 0.2s ease;
    }
    .summary-card:hover {
      transform: translateY(-3px);
    }
    /* Form Section */
    .form-section {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 8px;
      height: fit-content;
    }
    .form-section form {
      display: grid;
      gap: 1rem;
    }
    .form-section label {
      font-weight: 600;
      color: var(--primary-color);
    }
    .form-section input,
    .form-section select {
      padding: 0.75rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-color);
      transition: all 0.3s ease;
    }
    .form-section input:focus,
    .form-section select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(125, 211, 252, 0.1);
    }
    .form-section button[type="submit"] {
      padding: 0.75rem;
      border: none;
      border-radius: 6px;
      background: var(--button-bg);
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .form-section button[type="submit"]:hover {
      background: var(--button-hover);
      transform: translateY(-1px);
    }
    /* Bills Section */
    .bills-section {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: 8px;
      max-height: 80vh;
      overflow-y: auto;
    }
    .filters {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }
    .filter-btn {
      background: var(--button-bg);
      color: var(--text-color);
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .filter-btn:hover {
      background: var(--button-hover);
      transform: translateY(-1px);
    }
    /* Bill Item Styles */
    .bill-item {
      background: rgba(16, 42, 76, 0.8);
      padding: 1.25rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 1rem;
      align-items: center;
      transition: all 0.3s ease;
    }
    .bill-item:hover {
      transform: translateX(5px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    .recurrence-badge {
      background: rgba(125, 211, 252, 0.1);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8rem;
      color: var(--primary-color);
    }
    .action-buttons button {
      background: var(--button-bg);
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      color: var(--text-color);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .action-buttons button:hover {
      background: var(--button-hover);
      transform: translateY(-1px);
    }
    .paid-badge {
      background: var(--success-color);
      padding: 8px 16px;
      border-radius: 6px;
      color: #fff;
    }
    /* Status Colors */
    .status-indicator.overdue {
      color: var(--danger-color);
    }
    .status-indicator.due-today {
      color: var(--warning-color);
    }
    .status-indicator.upcoming {
      color: var(--success-color);
    }
    /* Alert styles */
    .alert {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      border-radius: 4px;
      color: #fff;
      font-size: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      z-index: 2000;
      opacity: 0.9;
    }
    .alert-info { background-color: var(--button-bg); }
    .alert-success { background-color: var(--success-color); }
    .alert-error { background-color: var(--danger-color); }
    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
        padding: 1rem;
        margin-top: 3rem;
      }
      .bills-section {
        max-height: none;
      }
      .home-link {
        top: 10px;
        left: 10px;
        font-size: 0.9rem;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <a href="index.html" class="home-link">‚Üê Back to Home</a>
  <div class="container">
    <h1>üìÖ Bill Manager by SavyMoney</h1>
    <!-- Dashboard Section -->
    <div class="dashboard">
      <div class="summary-card">
        <h3>üí∞ Financial Summary</h3>
        <p>Pending: ‚Çπ<span id="totalPending">0</span></p>
        <p>Paid: ‚Çπ<span id="totalPaid">0</span></p>
      </div>
      <div class="summary-card">
        <h3>üìä Category Breakdown</h3>
        <canvas id="categoryChart"></canvas>
      </div>
      <div class="summary-card">
        <h3>‚ö° Quick Actions</h3>
        <button onclick="exportBills()" class="filter-btn">Export Data</button>
        <input type="file" id="importData" hidden>
        <button onclick="document.getElementById('importData').click()" class="filter-btn">Import Data</button>
      </div>
    </div>
    <!-- Form Section -->
    <div class="form-section">
      <form id="billForm">
        <label for="billName">Bill Name</label>
        <input type="text" id="billName" placeholder="Electricity Bill" required>
        <label for="billAmount">Amount (‚Çπ)</label>
        <input type="number" id="billAmount" min="0" step="0.01" placeholder="2500.00" required>
        <label for="dueDate">Due Date</label>
        <input type="date" id="dueDate" required>
        <label for="category">Category</label>
        <select id="category">
          <option value="Utilities">Utilities</option>
          <option value="Rent">Rent</option>
          <option value="Subscription">Subscription</option>
          <option value="Loan">Loan</option>
          <option value="Insurance">Insurance</option>
          <option value="Other">Other</option>
        </select>
        <label for="recurrence">Recurrence:</label>
        <select id="recurrence" onchange="toggleRecurrence()">
          <option value="none">None</option>
          <option value="monthly">Monthly</option>
          <option value="yearly">Yearly</option>
        </select>
        <div id="recurrenceOptions" style="display: none;">
          <label for="recurrenceDuration">Duration (months):</label>
          <input type="number" id="recurrenceDuration" min="1" value="12">
        </div>
        <button type="submit">+ Add Reminder</button>
      </form>
    </div>
    <!-- Bills Section -->
    <div class="bills-section">
      <div class="filters">
        <button class="filter-btn" onclick="filterBills('all')">All</button>
        <button class="filter-btn" onclick="filterBills('unpaid')">Unpaid</button>
        <button class="filter-btn" onclick="filterBills('overdue')">Overdue</button>
        <select class="filter-btn" id="categoryFilter" onchange="filterByCategory(this.value)">
          <option value="">All Categories</option>
        </select>
      </div>
      <div id="billsContainer"></div>
    </div>
  </div>
  <script>
    // Default Bill Object
    const defaultBill = {
      id: null,
      name: '',
      amount: 0,
      dueDate: '',
      category: 'Utilities',
      paid: false,
      recurrence: 'none'
    };
    let bills = JSON.parse(localStorage.getItem('bills') || '[]');
    let currentChart = null;
    const billForm = document.getElementById('billForm');
    const billsContainer = document.getElementById('billsContainer');
    // Toggle recurrence options visibility
    function toggleRecurrence() {
      const recurrence = document.getElementById('recurrence').value;
      document.getElementById('recurrenceOptions').style.display = (recurrence === 'none') ? 'none' : 'block';
    }
    // Helper to calculate the next due date for recurring bills
    function getNextDueDate(currentDueDate, recurrence) {
      let date = new Date(currentDueDate);
      if (recurrence === 'monthly') {
        date.setMonth(date.getMonth() + 1);
      } else if (recurrence === 'yearly') {
        date.setFullYear(date.getFullYear() + 1);
      }
      return date.toISOString().split('T')[0];
    }
    // Save bills to localStorage
    function saveBills() {
      localStorage.setItem('bills', JSON.stringify(bills));
    }
    // Calculate days remaining until due date
    function calculateDaysRemaining(dueDate) {
      const due = new Date(dueDate);
      const today = new Date();
      const diffTime = due - today;
      return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    }
    // Get status based on days remaining
    function getStatus(days) {
      if (days < 0) {
        return { text: 'Overdue', class: 'overdue' };
      } else if (days === 0) {
        return { text: 'Due Today', class: 'due-today' };
      } else {
        return { text: `${days} days remaining`, class: 'upcoming' };
      }
    }
    // Display bills in the bills section
    function displayBills(billsToDisplay) {
      billsContainer.innerHTML = '';
      const sortedBills = [...billsToDisplay].sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));
      sortedBills.forEach(bill => {
        const days = calculateDaysRemaining(bill.dueDate);
        const status = getStatus(days);
        const billItem = document.createElement('div');
        billItem.className = 'bill-item';
        billItem.dataset.id = bill.id;
        billItem.innerHTML = `
          <div class="bill-details">
            <div class="amount">‚Çπ${bill.amount.toFixed(2)}</div>
            <div>
              ${bill.name} ${bill.recurrence !== 'none' ? `<span class="recurrence-badge">${bill.recurrence}</span>` : ''}
            </div>
            <div class="bill-meta">
              <span class="due-date">üìÖ ${bill.dueDate}</span>
              <span>üè∑Ô∏è ${bill.category}</span>
            </div>
            <div class="status-indicator ${status.class}">${status.text}</div>
          </div>
          <div class="action-buttons">
            ${!bill.paid ?
              `<button class="mark-paid" onclick="markAsPaid(this)">Mark Paid</button>` :
              `<div class="paid-badge">‚úì Paid</div>`
            }
            <button class="delete-btn" onclick="deleteBill(this)">Delete</button>
          </div>
        `;
        billsContainer.appendChild(billItem);
      });
    }
    // Load bills and initialize filters
    function loadBills() {
      displayBills(bills);
      initFilters();
    }
    // Initialize category filter options
    function initFilters() {
      const categories = [...new Set(bills.map(b => b.category))];
      const filterSelect = document.getElementById('categoryFilter');
      filterSelect.innerHTML = '<option value="">All Categories</option>';
      categories.forEach(cat => {
        filterSelect.innerHTML += `<option value="${cat}">${cat}</option>`;
      });
    }
    // Update dashboard: financial summary and category chart
    function updateDashboard() {
      const totalPending = bills.filter(b => !b.paid).reduce((sum, b) => sum + b.amount, 0);
      const totalPaid = bills.filter(b => b.paid).reduce((sum, b) => sum + b.amount, 0);
      document.getElementById('totalPending').textContent = totalPending.toFixed(2);
      document.getElementById('totalPaid').textContent = totalPaid.toFixed(2);
      if (currentChart) currentChart.destroy();
      const categories = [...new Set(bills.map(b => b.category))];
      const ctx = document.getElementById('categoryChart').getContext('2d');
      currentChart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: categories,
          datasets: [{
            data: categories.map(cat => bills.filter(b => b.category === cat).length),
            backgroundColor: ['#1e3a8a', '#1e40af', '#2563eb', '#3b82f6', '#60a5fa']
          }]
        }
      });
    }
    // Mark a bill as paid; for recurring bills, update dueDate to the next occurrence
    function markAsPaid(button) {
      const billItem = button.closest('.bill-item');
      const id = Number(billItem.dataset.id);
      bills = bills.map(bill => {
        if (bill.id === id) {
          if (bill.recurrence !== 'none') {
            bill.dueDate = getNextDueDate(bill.dueDate, bill.recurrence);
            bill.paid = false;
          } else {
            bill.paid = true;
          }
        }
        return bill;
      });
      saveBills();
      loadBills();
      updateDashboard();
    }
    // Delete a bill
    function deleteBill(button) {
      const billItem = button.closest('.bill-item');
      const id = Number(billItem.dataset.id);
      bills = bills.filter(bill => bill.id !== id);
      saveBills();
      loadBills();
      updateDashboard();
    }
    // Filter bills by type
    function filterBills(filter) {
      let filtered = [];
      if (filter === 'all') {
        filtered = bills;
      } else if (filter === 'unpaid') {
        filtered = bills.filter(bill => !bill.paid);
      } else if (filter === 'overdue') {
        filtered = bills.filter(bill => {
          const days = calculateDaysRemaining(bill.dueDate);
          return days < 0 && !bill.paid;
        });
      }
      displayBills(filtered);
    }
    // Filter bills by category
    function filterByCategory(category) {
      if (category === "") {
        displayBills(bills);
      } else {
        displayBills(bills.filter(bill => bill.category === category));
      }
    }
    // Export bills as JSON
    function exportBills() {
      const data = JSON.stringify(bills);
      const blob = new Blob([data], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'bills-export.json';
      a.click();
    }
    // Import bills from JSON file with error handling
    document.getElementById('importData').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const importedBills = JSON.parse(e.target.result);
          if (!Array.isArray(importedBills)) throw new Error('Invalid format');
          bills = importedBills;
          saveBills();
          loadBills();
          updateDashboard();
          showAlert('Bills imported successfully!', 'success');
        } catch (error) {
          showAlert('Error importing bills. Invalid file format.', 'error');
        }
      }
      reader.readAsText(file);
    });
    // Combined bill form submission with validation
    billForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const billName = document.getElementById('billName').value.trim();
      const billAmount = document.getElementById('billAmount').value;
      if (!billName || !billAmount) {
        showAlert('Please fill in all required fields', 'error');
        return;
      }
      const billData = {
        ...defaultBill,
        id: Date.now(),
        name: billName,
        amount: parseFloat(billAmount),
        dueDate: document.getElementById('dueDate').value,
        category: document.getElementById('category').value,
        recurrence: document.getElementById('recurrence').value,
        paid: false
      };
      bills.push(billData);
      saveBills();
      loadBills();
      updateDashboard();
      billForm.reset();
      toggleRecurrence();
    });
    // Set minimum due date to today's date
    document.getElementById('dueDate').min = new Date().toISOString().split('T')[0];
    // Alert notification system
    function showAlert(message, type = 'info') {
      const alert = document.createElement('div');
      alert.className = `alert alert-${type}`;
      alert.textContent = message;
      document.body.prepend(alert);
      setTimeout(() => alert.remove(), 3000);
    }
    // Initial load
    loadBills();
    updateDashboard();
  </script>
</body>
</html>

